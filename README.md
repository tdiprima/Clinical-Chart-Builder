
# ğŸ¥ Clinical Chart Builder

The **Clinical Chart Builder** is a Python-based web app that lets users generate interactive charts from OMOP (Observational Medical Outcomes Partnership) CDM-formatted clinical data using natural language. It uses GPT-4o (via Azure OpenAI) to interpret user prompts and generate Python/Plotly code to create relevant visualizations.

This is built to prototype AI-assisted charting for clinical data teams using the OMOP CDM (Common Data Model).

## âš™ï¸ Features

- ğŸ” Natural language to chart with GPT-4o
- ğŸ“Š Interactive visualizations with Plotly
- ğŸ§  Schema-aware prompting using real OMOP tables
- ğŸ”Œ Live demo on synthetic patient data from Synthea
- ğŸŒ Dash web app UI

## ğŸ“‚ Files

- `clinical_chart_builder.py` â€” The main app file

## ğŸ® How to Use It

1. **Setup**:
   - Ensure you have a `.env` file with your Azure OpenAI credentials (`AZURE_OPENAI_ENDPOINT`, `AZURE_OPENAI_KEY`, `OPENAI_API_VERSION`, `DEPLOYMENT_NAME`).
   - Install required packages: `pip install dash dash-bootstrap-components pandas plotly openai python-dotenv`.

2. **Run the Script**:
   - Execute `python clinical_chart_builder.py` to start the Dash server. Open your browser to `http://127.0.0.1:8050/` to interact with the app.

## ğŸ§  Prompt Categories

### ğŸ“Š Population-Level Summaries
- Bar chart of the top 5 most common conditions
- Show the top 10 most common diagnoses
- Visualize the number of conditions by year
- Plot the distribution of visit start dates
- Bar chart of visit counts by state (joins visit + location)
- Bar chart of average age at death by gender
- Histogram of patient ages at visits

### ğŸ‘¤ Individual Patient Views
- Line chart of conditions over time for patient 785

### ğŸ—ºï¸ Geographic Distributions
- Scatter plot of visits by location

## ğŸ—ƒï¸ Data Sources

Data sourced from **Janos Hajagos's SyntheaData520 repository**  
ğŸ”— https://github.com/jhajagos/SyntheaData520

Synthetic OMOP CDM v5.3 data generated by **Synthea**  
ğŸ”— https://synthea.mitre.org

## ğŸ“œ License
[MIT](LICENSE)
